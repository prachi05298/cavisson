// Copyright 2020 Source Defense LTD. All Rights Reserved. Build 1589276616009 c09fe4d9dc55c6c063e5644cb4ef4bf09684a4fe
// Version 1.0.5.1 built at 2020-May-12 09:43:36.
(function(){var s=this,n=s.Math,l=n.random,d=n.ceil,h=n.pow,p=s.Promise,t=document.currentScript,e=s.setImmediate,v=s.setTimeout;!function(){if(p)return;function a(n){return Boolean(n&&void 0!==n.length)}function i(n){if(!(this instanceof i))throw new Error("Promises must be constructed via new");if("function"!=typeof n)throw new Error("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(n,this)}function r(e,r){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?r.onFulfilled:r.onRejected;if(null!==n){var t;try{t=n(e._value)}catch(n){return void c(r.promise,n)}o(r.promise,t)}else(1===e._state?o:c)(r.promise,e._value)})):e._deferreds.push(r)}function o(t,n){try{if(n===t)throw new Error("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof i)return t._state=3,t._value=n,void u(t);if("function"==typeof e)return void s(function(n,t){return function(){n.apply(t,arguments)}}(e,n),t)}t._state=1,t._value=n,u(t)}catch(n){c(t,n)}}function c(n,t){n._state=2,n._value=t,u(n)}function u(n){2===n._state&&0===n._deferreds.length&&i._immediateFn(function(){n._handled||i._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)r(n,n._deferreds[t]);n._deferreds=null}function f(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function s(n,t){var e=!1;try{n(function(n){e||(e=!0,o(t,n))},function(n){e||(e=!0,c(t,n))})}catch(n){if(e)return;e=!0,c(t,n)}}i.prototype.catch=function(n){return this.then(null,n)},i.prototype.then=function(n,t){var e=new this.constructor(E);return r(this,new f(n,t,e)),e},i.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},i.all=function(t){return new i(function(r,o){if(!a(t))return o(new Error("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return r([]);var c=i.length;function u(t,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if("function"==typeof e)return void e.call(n,function(n){u(t,n)},o)}i[t]=n,0==--c&&r(i)}catch(n){o(n)}}for(var n=0;n<i.length;n++)u(n,i[n])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(n){n(t)})},i.reject=function(e){return new i(function(n,t){t(e)})},i.race=function(o){return new i(function(n,t){if(!a(o))return t(new Error("Promise.race accepts an array"));for(var e=0,r=o.length;e<r;e++)i.resolve(o[e]).then(n,t)})},i._immediateFn="function"==typeof e&&function(n){e(n)}||function(n){v(n,1)},i._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)},p=i}();function m(n){var t=[];for(i=0;i<n.length;i++)t.push(n[i]);return t}var r=(t=t||{getAttribute:E}).getAttribute("main")||"sourceDefenseReporter",o=t.getAttribute("jsonp"),y=!1,w=null,_=function(f){return new p(function(i,n){f=f||{},y=!0,_=function(){return p.resolve()},(f=JSON.parse(JSON.stringify(f))).baseLocation=f.baseLocation||s.location.href;var c=document.createElement("iframe"),t=f.iframe||f.i||"//services.sdiapi.com/reporter/1.0.5.1/reporter.html";c.src=t;var u="display: none;visibility: hidden;position: absolute;top: 0;left: 0;width: 0;height: 0;border: 0;"+"box-sizing: border-box;".replace(/\s+/g,"").replace(/;/g," !important;");c.style.cssText=u;var a=v(function(){n("iframe load timeout"),w=E,c.parentElement.removeChild(c)},5e3);c.onload=function(){clearTimeout(a),c.style.cssText=u;function t(t){return new p(function(n){t=JSON.parse(JSON.stringify(t)),e.postMessage(t,"*"),n()})}var e=c.contentWindow,r=(s.location.origin,d(l()*h(10,15)).toString(36)),n={};for(var o in f)n[o]=f[o];n.uuid=r,t(["init",n]),w=function(){var n=m(arguments);return n.splice(1,0,r),t(n)},i()},document.body?document.body.appendChild(c):document.documentElement.appendChild(c)})},c=null,u=function(n){var t=(n=n||[])[0],e=m(n[1]),r="string"==typeof e[0]?e.splice(0,1)[0]:"event";if(!y){var o="init"===r&&e[0]?e[0]:null;if(o||console.warn("running with a default configuration."),c=_(o),"init"===r)return c}return c.catch(E).then(function(){return w.apply(this,[r,t].concat(e))}.bind(this))}.bind(this),a=null,f=function(){var n=arguments;a=a||p.resolve();var t=function(){return u.apply(this,n)}.bind(this);a=a.catch(console.error.bind(console)).then(t)}.bind(this),b=function(n){b=E,n.forEach(function(n){f(n)})};if(o){if(!s[o])throw new Error("bad jsonp parameter! no jsonp callback function.");s[o](function(){var n=m(arguments);if("first-load-all"===n[0]){var t=n[1];return t=Array.isArray(t)?t:[t],t=m(t),void b(t)}n.splice(0,0,Date.now()),f(n)})}else{var g=s[r];if(!g)throw new Error("no main function "+r+" in the window scope.");var j=g.q||[];j=m(j),b(j),g.q=g.q||[],g.q.length=0,g.q.push=function(){f.apply(this,arguments)}.bind(this)}function E(){}}).call(this);